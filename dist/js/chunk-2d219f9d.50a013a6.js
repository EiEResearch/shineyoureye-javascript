(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d219f9d"],{ba19:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",{staticClass:"masthead"},[a("div",{staticClass:"overlay"}),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8 col-md-10 mx-auto d-flex"},[a("div",{staticClass:"post-heading"},[a("h1",[t._v(t._s(t.title))])])])])])]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8 col-md-10 mx-auto"},[a("div",{staticClass:"content"},[a("b-nav",{attrs:{pills:""}},[a("b-nav-item",{attrs:{active:t.addActiveClass("states"),href:"/places/state"}},[t._v("States")]),a("b-nav-item",{attrs:{active:t.addActiveClass("senatorial-district"),href:"/places/senatorial-district"}},[t._v("Senatorial District")]),a("b-nav-item",{attrs:{active:t.addActiveClass("federal-constituency"),href:"/places/federal-constituency"}},[t._v("Federal Constituencies")]),a("b-nav-item",{attrs:{active:t.addActiveClass("state-constituency"),href:"/places/state-constituency"}},[t._v("State Constituencies")])],1),a("hr")],1),a("div",{staticClass:"col-md-12"},t._l(t.groupByState,(function(e){return a("div",{key:e.organization+"_peopleByState"},[a("div",{staticClass:"no-border shadow-sm rounded"},t._l(e.places,(function(s,n){return a("div",{key:n,staticClass:"row no-gutters expandableItem"},[a("div",{staticClass:"col-md-3"},[a("h3",{staticClass:"p-3 mb-3",attrs:{"data-accordion-element-trigger":""}},[t._v(t._s(s[0]))])]),a("div",{staticClass:"col-md-9",attrs:{"data-accordion-element-content":""}},[a("div",{staticClass:"card-body no-border"},t._l(s[1],(function(s){return a("div",{key:s.id,staticClass:"shadow-sm p-2 mb-2 bg-white rounded"},[a("div",{staticClass:"media"},[a("b-img-lazy",t._b({staticClass:"align-self-start mr-3",attrs:{src:s.area.image.url,thumbnail:"",fluid:""}},"b-img-lazy",t.mainProps,!1)),a("div",{staticClass:"media-body text-wrap"},[a("h5",{staticClass:"d-block"},[a("a",{attrs:{href:s.area.url}},[t._v(t._s(s.address.district.value?""+s.address.district.value:s.area.place.name))])]),s.area.place.type_name.toLowerCase()!==s.area.state_place.type_name.toLowerCase()?a("span",{staticClass:"d-block"},[t._v(" Parent place: "+t._s(s.address.district.value?s.area.parent_place.name:s.area.state_place.name)+" ")]):t._e(),a("span",{staticClass:"d-block"},[t._v(t._s(t.areaType))]),s.area.place.type_name.toLowerCase()!==s.area.state_place.type_name.toLowerCase()?a("span",{staticClass:"d-block"},[t._v(" "+t._s(e.organization)+" "+t._s(new Date(e.start_date).getFullYear())+"-"+t._s(new Date(e.end_date).getFullYear())+" ")]):t._e()])],1)])})),0)])])})),0)])})),0)])])]),a("page-feedback-component"),a("page-sharing-component")],1)},n=[],r=a("a34a"),i=a.n(r),o=a("a796");function c(t,e,a,s,n,r,i){try{var o=t[r](i),c=o.value}catch(l){return void a(l)}o.done?e(c):Promise.resolve(c).then(s,n)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(s,n){var r=t.apply(e,a);function i(t){c(r,s,n,i,o,"next",t)}function o(t){c(r,s,n,i,o,"throw",t)}i(void 0)}))}}var d={name:"Places",data:function(){return{pathMeta:"",areaType:"",title:"Places",people:[],mainProps:{blank:!0,width:70,height:70,blankColor:"#bbb",class:"m1"}}},metaInfo:function(){return{title:this.areaType||this.title}},beforeRouteUpdate:function(t,e,a){try{this.$options.beforeRouteEnter(t,e,a)}catch(s){a((function(t){var e=t;e.$logger(s)}))}},beforeRouteEnter:function(){var t=l(i.a.mark((function t(e,a,s){var n,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new o["a"](e.meta.position).findAll().then((function(t){return t.data}));case 3:n=t.sent,r=n.data,s((function(t){var a=t;a.pathMeta=(e.name||"").toLowerCase(),a.areaType=e.meta.type||"",a.people=Object.freeze(r.people),s()})),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s({name:"error",params:[e.path],replace:!0});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(e,a,s){return t.apply(this,arguments)}return e}(),computed:{groupByState:function(){return this.groupBy(this.people,"state")}},methods:{addActiveClass:function(t){return String(t||"").toLowerCase()===String(this.pathMeta||"").toLowerCase()},groupBy:function(t,e){var a=[];return t.map((function(t){var s={};s.organization=t.organization,s.legislative_period=t.legislative_period,s.start_date=t.start_date,s.end_date=t.end_date,s.places=new Map;var n={};return t.persons.forEach((function(t){n[t[e]]||(n[t[e]]=[]),n[t[e]].push({address:t.address,area:t.area})})),Object.keys(n).sort().forEach((function(t){n[t]=Object.values(n[t]).sort((function(t,e){var a=t.address.district.value.toLowerCase()||t.area.place.name.toLowerCase(),s=e.address.district.value.toLowerCase()||e.area.place.name.toLowerCase();return a<s?-1:a>s?1:0})),s.places.has(t)?s.places.get(t).push(n[t]):s.places.set(t,n[t])})),n=null,a.push(Object.freeze(s)),a})),a}},mounted:function(){this.$nextTick().then((function(){new GianniAccordion({elements:".expandableItem",openAtLandingIndex:0})}))}},u=d,p=a("2877"),v=Object(p["a"])(u,s,n,!1,null,null,null);e["default"]=v.exports}}]);